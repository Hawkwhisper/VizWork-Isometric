<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" href="hw.ico">
    <script defer>
        var current_map = {};

        function createElementsFromArray(array) {
            const container = document.createElement('div');
            let sub_elms = [];
            array.forEach(a=>{
                let new_elm = document.createElement(a.type);
                new_elm.classList.add(...a.classList);
                new_elm.value = a?.value;
                new_elm.innerHTML = a?.innerHTML;
                try {
                    let other = createElementsFromArray(a.elements);
                    new_elm.appendChild(other);
                    sub_elms.push(other);
                } catch(e) {

                }
                container.appendChild(new_elm);
            });
     
            return container;
        }

        function makePopup(data = {
            title: "",
            elements: [{
                type: "div",
                classList: ["", ""],
                value: "",
                innerHTML: "",
                elements: [{
                }]
            }]
        }) {
            document.getElementById('pop_title').innerHTML = data.title;
            document.querySelector('.body').appendChild(createElementsFromArray(data.elements))
        }
        require('./_electron/main.js');
    </script>

</head>

<body>
    <main>
        <div class="infoOverlay">Please load an RPG Maker MZ project directory</div>
        <div class="editSection">
            <div class="sidebar">
                <div class="editor"></div>
            </div>

            <div id="canvas_container"></div>
        </div>
        <div class="popup">
            <div class="container">
                <div class="header">
                    <div id="pop_title">
                        Example Title
                    </div>
                </div>
                <div class="body">
                    <div id="new_map">
                        <div class="half line">
                            <div class="label">Map Name</div>
                            <input placeholder="sample" id="nm_name">
                        </div>

                        <div class="half line">
                            <div class="label">Map Dimensions</div>
                            <div class="half">
                                <input placeholder="22" id="nm_dx" type="number">
                                <input placeholder="22" id="nm_dy" type="number">
                            </div>
                        </div>
                        <button class="newmap full">Create</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer></footer>
</body>

</html>